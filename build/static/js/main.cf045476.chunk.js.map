{"version":3,"sources":["constants/ActionTypes.js","actions/index.js","components/Contact.js","components/ContactList.js","components/Settings.js","components/Footer.js","components/OAuth.js","components/App.js","serviceWorker.js","constants/index.js","constants/InitialState.js","reducers/contactsReducer.js","reducers/tokenReducer.js","reducers/index.js","index.js"],"names":["LOAD_CONTACTS","SET_TOKEN","LOG_EVENT","loadContacts","items","type","types","payload","logEvent","json","Contact","props","animationTestNumberP","Math","floor","random","animationTestNumberN","handleInteractionClick","id","etag","userDefined","interactionType","redirect","today","Date","userDefinedUpdate","undefined","push","key","value","getFullYear","getMonth","getDate","map","e","index","dispatch","token","fetch","method","body","JSON","stringify","headers","then","response","fetchNewVisit","window","open","_priorityForm","handleFormClick","arg","x","document","getElementById","style","display","className","animationTest","onClick","handleDetailClick","alt","src","photo","name","userDefinedPriority","onSubmit","event","preventDefault","attributes","userdefined","console","log","placeholder","ref","input","bYear","birthday","year","bMonth","month","bDay","day","birthDate","setFullYear","finalResult","round","getTime","toFixed","string","iS","split","interactionDate","roundedToday","diff","userDefinedLastInteraction","events","eventString","length","mostRecentEvent","sort","a","b","eventA","date","eventB","comparison","eventDate","email","phone","connect","ContactList","contactList","contact","names","displayName","accessToken","resourceName","birthdays","emailAddresses","phoneNumbers","photos","url","Settings","Footer","to","CLIENT_ID","process","REACT_APP_CLIENT_ID","API_KEY","REACT_APP_API_KEY","OAuth","state","isSignedIn","googleUser","err","access_token","successCallback","this","onSuccess","bind","gapi","load","auth2","init","apiKey","discoveryDocs","client_id","scope","ux_mode","redirect_uri","setState","get","opts","width","height","onsuccess","signin2","render","currentUser","Qt","Ad","uc","connections","request","error","querySelector","getContent","Component","App","simpleAction","exact","path","contactsReducer","contacts","tokenReducer","React","Boolean","location","hostname","match","greeting","initialState","constants","combineReducers","action","toSort","slice","compare","contactA","find","toUpperCase","contactB","sortedPayload","logUpdatedState","contactToLogUpdate","store","createStore","rootReducer","applyMiddleware","thunkMiddleware","subscribe","getState","ReactDOM","navigator","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.cf045476.chunk.js","sourcesContent":["export const LOAD_CONTACTS = 'LOAD_CONTACTS';\nexport const SET_TOKEN = 'SET_TOKEN';\nexport const LOG_EVENT = 'LOG_EVENT';\n","import * as types from \"./../constants/ActionTypes\";\n\nexport const loadContacts = (items) => ({\n  type: types.LOAD_CONTACTS,\n  payload: items,\n});\n\nexport const setToken = (token) => ({\n  type: types.SET_TOKEN,\n  payload: token,\n});\n\nexport function fetchNewVisit(id, etag, userDefined, token) {\n  return function (dispatch) {\n    return fetch(`https://people.googleapis.com/v1/${id}:updateContact?access_token=${token}&updatePersonFields=userDefined&alt=json`, {\n      method: 'PATCH',\n      body: JSON.stringify({\n        userDefined: userDefined,\n        etag: etag,\n      }),\n      headers: {\n        \"Content-type\": \"application/json; charset=UTF-8\"\n      }\n    })\n    .then(response => response.json())\n    .then(json => dispatch(logEvent(json)))\n  };\n}\n\nexport const logEvent = (json) => ({\n  type: types.LOG_EVENT,\n  payload: json,\n});\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { fetchNewVisit } from \"./../actions\";\n\nfunction Contact(props){\n\n  let animationTestNumberP = (Math.floor(Math.random()*101)+75)\n  let animationTestNumberN = (Math.floor(Math.random()*101)-125)\n\n  let birthday = () => {\n    const bYear = [props.birthday].map(e => e.year)[0]\n    const bMonth = [props.birthday].map(e => e.month)[0]\n    const bDay = [props.birthday].map(e => e.day)[0]\n    const bString = (`${bYear}-${bMonth}-${bDay}`);\n    if (bString === 'undefined-undefined-undefined') {\n      return;\n    } else if (bMonth === 'undefined') {\n      return\n    } else {\n      const today = new Date();\n      const birthDate = new Date(today.getFullYear(), (bMonth-1), bDay+1)\n      if (today.getMonth() > (bMonth+1) && today.getDate() > bDay)\n      birthDate.setFullYear(birthDate.getFullYear() + 1)\n      const bResult = Math.round(birthDate.getTime() - today.getTime()) / (86400000);\n      const finalResult = bResult.toFixed(0);\n      const string = `Birthday in ${finalResult} days (on ${bMonth}/${bDay})!`\n      if (finalResult >=0 && finalResult <= 45) {\n        return string\n      } else {\n        return\n      }\n    }\n  };\n\n  let events = () => {\n    if (props.events === '' || typeof(props.events) === undefined) {\n      return\n    } else {\n      function compare(a, b) {\n        const eventA = new Date(a.date.year, a.date.month, a.date.day);\n        const eventB = new Date(b.date.year, b.date.month, b.date.day);\n        let comparison = 0;\n        if (eventA > eventB) {\n          comparison = 1;\n        } else if (eventA < eventB) {\n          comparison = -1;\n        }\n        return comparison;\n      }\n      const length = props.events.length\n      const mostRecentEvent = props.events.sort(compare)[length-1]\n      const today = new Date();\n      const eventDate = new Date(mostRecentEvent.date.year, (mostRecentEvent.date.month-1), mostRecentEvent.date.day)\n      const bResult = Math.round(eventDate.getTime() - today.getTime()) / (86400000);\n      const finalResult = bResult.toFixed(0) * -1;\n      let eventString;\n      if ( finalResult < 0 ) {\n        eventString = `Upcoming event in ${finalResult*-1+1} days, on ${mostRecentEvent.date.month}/${mostRecentEvent.date.day}!`\n      } else if ( finalResult === 0 ) {\n        eventString = `Upcoming event today!`\n      } else if ( finalResult < 365 ) {\n        eventString = `Last interaction ${finalResult} days ago.`\n      } else {\n        eventString = `Last interaction ${(finalResult/365).toFixed(2)} years ago.`\n      }\n      return `${eventString}`;\n    }\n  };\n\n  let userDefinedPriority = () => {\n    if (props.userDefined === '' || typeof(props.userDefined) === undefined || props.userDefined === [] ) {\n      return\n    } else {\n      const userDefinedFields = props.userDefined.map(x => {\n        if (x.key === '~prioritacts~frequency~') {\n          return `Priority set to ${x.value}`;\n        } else {\n          return '';\n        }\n      });\n      return userDefinedFields;\n    }\n  };\n\n  let userDefinedLastInteraction = () => {\n    if (props.userDefined === '' || typeof(props.userDefined) === undefined || props.userDefined === [] ) {\n      return\n    } else {\n      const userDefinedFields = props.userDefined.map(x => {\n        if (x.key === '~prioritacts~lastContact~') {\n          let iS = x.value.split('-')\n          let interactionDate = new Date((iS[0]),(iS[1]-1),(iS[2]))\n          let today = new Date()\n          let roundedToday = new Date(today.getFullYear(), today.getMonth(), today.getDate())\n          let diff = Math.round((roundedToday.getTime() - interactionDate.getTime()) / (86400000))\n          if (diff === 0) {\n            return `Last interaction (${iS[3]}) was today!`;\n          } else if (diff < 365 ) {\n            return `Last interaction (${iS[3]}) was ${diff} days ago.`;\n          } else {\n            return `Last interaction (${iS[3]}) was ${(diff/365).toFixed(2)} years ago.`;\n          }\n        } else {\n          return '';\n        }\n      });\n      return userDefinedFields;\n    }\n  };\n\n  let handleDetailClick = (arg) => {\n    let x = document.getElementById(arg)\n    x.style.display = x.style.display === 'none' ? 'block' : 'none';\n  }\n\n  let handleInteractionClick = (id, etag, userDefined, interactionType, redirect) => {\n    let today = new Date();\n    let userDefinedUpdate = []\n    if (userDefined == [] || userDefined == undefined || userDefined == null || userDefined == '' ) {\n      userDefinedUpdate.push({key: \"~prioritacts~lastContact~\", value: `${today.getFullYear()}-${today.getMonth()+1}-${today.getDate()}-${interactionType}`})\n    } else {\n      userDefined.map(function(e, index) {\n        if (e.key == \"~prioritacts~lastContact~\") {\n          return\n        } else {\n          userDefinedUpdate.push(e);\n        }\n        userDefinedUpdate.push({key: \"~prioritacts~lastContact~\", value: `${today.getFullYear()}-${today.getMonth()+1}-${today.getDate()}-${interactionType}`})\n      });\n    }\n    const { dispatch } = props;\n    dispatch(fetchNewVisit(id, etag, userDefinedUpdate, props.token));\n    if (interactionType === 'visit') {\n      return\n    } else {\n      window.open(redirect, '_blank')\n    }\n  }\n\n  let _priorityForm = null\n  function handleFormUpdate(event) {\n    event.preventDefault();\n\n    let value = _priorityForm.value;\n\n    let id = _priorityForm.id;\n    let etag = _priorityForm.attributes.etag.value;\n    let userDefined = _priorityForm.attributes.userdefined;\n\n    console.log('form VALUE: ', value);\n\n    console.log('form ID: ', id);\n    console.log('form ETAG: ', etag);\n    console.log('form userDefined: ', userDefined);\n    console.log('TOKEN: ', props.token);\n\n    console.log(userDefined);\n\n\n    handleFormClick('settingsFormID_' + _priorityForm.id);\n    _priorityForm.value = null;\n  }\n\n  let handleFormClick = (arg) => {\n    let x = document.getElementById(arg)\n    x.style.display = x.style.display === 'none' ? 'block' : 'none';\n  }\n\n\n  return (\n    <div className={'contactSection ' + props.animationTest}>\n      <div className='contactRow' id={'contactCell_' + props.id}>\n        <div className='gridParent'>\n\n          <div className='gridDiv1' onClick={() =>{handleDetailClick('gridDiv4_' + props.id)}}>\n            <img className='contactPhoto' alt={`(p${props.index})`} src={props.photo}/>\n          </div>\n\n          <div className='gridDiv2'>\n            <p className='contactName'>{props.name}</p>\n          </div>\n\n          <div className='gridDiv3'>\n            <div>\n              <div className='contactUserDefined'>{userDefinedPriority()}</div>\n              <div className='settingsForm' id={'settingsFormID_' + props.id}>\n                <form onSubmit={handleFormUpdate}>\n                  <input\n                    type=\"number\"\n                    id={props.id}\n                    etag={props.etag}\n                    userdefined={props.userDefined}\n                    name=\"priorityForm\"\n                    placeholder='Add/Update Desired Frequency'\n                    ref={(input) => {_priorityForm = input;}}/>\n                  <button type='submit'>Submit</button>\n                </form>\n              </div>\n              <div className='settingsTrigger' onClick={() =>{handleFormClick('settingsFormID_' + props.id)}}>{`<<`}</div>\n            </div>\n          </div>\n\n          <div className='gridDiv4' id={'gridDiv4_' + props.id}>\n            <p className='contactBirthday'>{birthday()}</p>\n            <p className='contactLastInteraction'>{userDefinedLastInteraction()}</p>\n            <p className='contactEvent'>{events()}</p>\n          </div>\n          <div className='gridDiv5'  id={'gridDiv5_' + props.id}>\n            <p className='communicateRow'>\n              <span className='contactMethod'>\n                <button className=\"buttonEMail\" onClick={() =>{handleInteractionClick(props.id, props.etag, props.userDefined, 'email', `https://mail.google.com/mail/?view=cm&fs=1&to=${props.email}&body=%0A%0A%0A~This message was created with the Prioritacts App!~`)}}>Email</button>\n              </span>\n              <span className='contactMethod'>\n                <button className=\"buttonText\" onClick={() =>{handleInteractionClick(props.id, props.etag, props.userDefined, 'text', `sms:${props.phone}`)}}>Text</button>\n              </span>\n              <button className=\"buttonPhone\" onClick={() =>{handleInteractionClick(props.id, props.etag, props.userDefined, 'call', `tel:${props.phone}`)}}>Call</button>\n              <span className='contactMethod'>\n                <button className=\"buttonVisit\" onClick={() =>{handleInteractionClick(props.id, props.etag, props.userDefined, 'visit', 'visit')}}>Visit</button>\n              </span>\n            </p>\n          </div>\n\n        </div>\n      </div>\n      <style>{`\n\n          .gridParent {\n            display: grid;\n            grid-template-columns: repeat(6, 1fr);\n            grid-template-rows: 25px 25px 1fr 20px;\n            grid-column-gap: 3px;\n            grid-row-gap: 3px;\n          }\n\n          .gridDiv1 { grid-area: 1 / 1 / 3 / 2; }\n          .gridDiv2 { grid-area: 1 / 2 / 2 / 7; }\n          .gridDiv3 { grid-area: 2 / 2 / 3 / 7; }\n          .gridDiv4 { grid-area: 3 / 1 / 4 / 7; }\n          .gridDiv5 { grid-area: 4 / 1 / 5 / 7; }\n\n          .contactSection {\n            width: 96%;\n            margin-right: 2%;\n            margin-left: 2%;\n          }\n\n          .contactRow {\n            background: rgba(179,179,179,.03);\n            text-align: left;\n            // width: 100%;\n            border-radius: 10px;\n            box-shadow: 3px 1px 2px rgba(0, 0, 100, .33);\n            padding-left: 20px;\n            padding-top: 9px;\n            padding-bottom: 6px;\n            margin-bottom: 5px;\n          }\n\n          .contactRow p {\n            margin: 0px;\n          }\n\n          .contactPhoto {\n            width: 50px;\n            height: 50px;\n            border-radius: 50px;\n            border: 1px solid grey;\n          }\n\n          .communicateRow {\n            text-align: right;\n          }\n\n          .contactMethod {\n          }\n\n          .buttonEMail {\n            // height: 20px;\n\n            background-color: rgba(255,0,0,.33);\n            border-radius: 25px;\n            width: 20%;\n            font-weight: bolder;\n            padding-left: 2%;\n            padding-right: 2%;\n            margin-left: 2%;\n            margin-right: 2%;\n          }\n\n          .buttonText {\n            background-color: rgba(255,255,0,.33);\n            border-radius: 25px;\n            width: 20%;\n            font-weight: bolder;\n            padding-left: 2%;\n            padding-right: 2%;\n            margin-left: 2%;\n            margin-right: 2%;\n          }\n\n          .buttonPhone {\n            background-color: rgba(0,255,0,.33);\n            border-radius: 25px;\n            width: 20%;\n            font-weight: bolder;\n            padding-left: 2%;\n            padding-right: 2%;\n            margin-left: 2%;\n            margin-right: 2%;\n          }\n\n          .buttonVisit {\n            background-color: rgba(0,0,255,.33);\n            border-radius: 25px;\n            width: 20%;\n            font-weight: bolder;\n            padding-left: 2%;\n            padding-right: 2%;\n            margin-left: 2%;\n            margin-right: 2%;\n          }\n\n          .settingsTrigger {\n            position: absolute;\n            right: 5%;\n;\n          }\n          .settingsForm {\n            position: absolute;\n            right: 13%;\n            // width: 50px;\n            display: none;\n          }\n          .contactUserDefined{\n            position: absolute;\n\n            font-size: 0.75em;\n          }\n          .contactBirthday{\n            font-size: 0.75em;\n          }\n          .contactEvent{\n            font-size: 0.75em;\n          }\n          .contactLastInteraction{\n            font-size: 0.75em;\n          }\n\n          .animationTest0 {\n            animation: div_animation_effect0 0.25s 1;\n          }\n          .animationTest1 {\n            animation: div_animation_effect1 0.5s 1;\n          }\n          .animationTest2 {\n            animation: div_animation_effect2 0.75s 1;\n          }\n          .animationTest3 {\n            animation: div_animation_effect3 1s 1;\n          }\n          .animationTest4 {\n            animation: div_animation_effect4 1.25s 1;\n          }\n          .animationTest5 {\n            animation: div_animation_effect5 1.5s 1;\n          }\n          .animationTest6 {\n            animation: div_animation_effect6 1.75s 1;\n          }\n          .animationTest7 {\n            animation: div_animation_effect7 2s 1;\n          }\n\n          @keyframes div_animation_effect0 {\n            0%   { transform: translate(${animationTestNumberN}vw, ${animationTestNumberP}vh);}\n            50%  { transform: translate(${animationTestNumberP}vw, ${animationTestNumberN}vh);}\n            100% { transform: translate(0px, 0vh);}\n            // 0%   { transform: scale(1, 0.01); transform: rotate(0turn);}\n            // 100% { transform: scale(1, 1); transform: rotate(1turn);}\n          }\n          @keyframes div_animation_effect1 {\n            0%   { transform: translate(${animationTestNumberP}vw, ${animationTestNumberN}vh);}\n            50%  { transform: translate(${animationTestNumberN}vw, ${animationTestNumberP}vh);}\n            100% { transform: translate(0px, 0vh);}\n            // 0%   { transform: scale(1, 0.01); transform: rotate(0turn);}\n            // 100% { transform: scale(1, 1); transform: rotate(1turn);}\n          }\n          @keyframes div_animation_effect2 {\n            0%   { transform: translate(${animationTestNumberN}vw, ${animationTestNumberP}vh);}\n            50%  { transform: translate(${animationTestNumberN}vw, ${animationTestNumberP}vh);}\n            100% { transform: translate(0px, 0vh);}\n            // 0%   { transform: scale(1, 0.01); transform: rotate(0turn);}\n            // 100% { transform: scale(1, 1); transform: rotate(1turn);}\n          }\n          @keyframes div_animation_effect3 {\n            0%   { transform: translate(${animationTestNumberP}vw, ${animationTestNumberN}vh);}\n            50%  { transform: translate(${animationTestNumberP}vw, ${animationTestNumberN}vh);}\n            100% { transform: translate(0px, 0vh);}\n            // 0%   { transform: scale(1, 0.01); transform: rotate(0turn);}\n            // 100% { transform: scale(1, 1); transform: rotate(1turn);}\n          }\n          @keyframes div_animation_effect4 {\n            0%   { transform: translate(${animationTestNumberP}vw, ${animationTestNumberN}vh);}\n            50%  { transform: translate(${animationTestNumberN}vw, ${animationTestNumberP}vh);}\n            100% { transform: translate(0px, 0vh);}\n            // 0%   { transform: scale(1, 0.01); transform: rotate(0turn);}\n            // 100% { transform: scale(1, 1); transform: rotate(1turn);}\n          }\n          @keyframes div_animation_effect5 {\n            0%   { transform: translate(${animationTestNumberP}vw, ${animationTestNumberN}vh);}\n            50%  { transform: translate(${animationTestNumberN}vw, ${animationTestNumberP}vh);}\n            100% { transform: translate(0px, 0vh);}\n            // 0%   { transform: scale(1, 0.01); transform: rotate(0turn);}\n            // 100% { transform: scale(1, 1); transform: rotate(1turn);}\n          }\n          @keyframes div_animation_effect6 {\n            0%   { transform: translate(${animationTestNumberP}vw, ${animationTestNumberN}vh);}\n            50%  { transform: translate(${animationTestNumberN}vw, ${animationTestNumberP}vh);}\n            100% { transform: translate(0px, 0vh);}\n            // 0%   { transform: scale(1, 0.01); transform: rotate(0turn);}\n            // 100% { transform: scale(1, 1); transform: rotate(1turn);}\n          }\n          @keyframes div_animation_effect7 {\n            0%   { transform: translate(${animationTestNumberP}vw, ${animationTestNumberN}vh);}\n            50%  { transform: translate(${animationTestNumberN}vw, ${animationTestNumberP}vh);}\n            100% { transform: translate(0px, 0vh);}\n            // 0%   { transform: scale(1, 0.01); transform: rotate(0turn);}\n            // 100% { transform: scale(1, 1); transform: rotate(1turn);}\n          }\n\n          `}</style>\n      </div>\n    );\n  }\n\n  Contact = connect()(Contact);\n\n  export default Contact;\n","import React from 'react';\nimport Contact from './Contact';\n// import { Link } from 'react-router-dom';\n\nfunction ContactList(props) {\n\n  let asyncContacts = () => {\n    if (typeof(props.contactList) == 'undefined') {\n      console.log(\"Awaiting OAuth or contacts to load...\")\n      return (\n        <div>\n          <br/>\n          <h1>Hello.</h1>\n          <br/>\n          <br/>\n          <br/>\n          <h2>Welcome to Prioritacts!</h2>\n          <br/>\n          <br/>\n          <h3>Your</h3>\n          <br/>\n          <h3>\n          <div className='animationContacts'>contacts</div>\n          <div className='animationDots'>...</div>\n          <div className='animationPrioritized'>prioritized</div>\n          </h3>\n        </div>\n    )\n    } else {\n      return props.contactList.map((contact, index) => <Contact\n      name={(contact.names[0].displayName ? contact.names[0].displayName : '')}\n      token={props.accessToken}\n      id={contact.resourceName}\n      etag={contact.etag}\n      animationTest={'animationTest'+index}\n      birthday={(contact.birthdays ? contact.birthdays[0].date : '')}\n      email={(contact.emailAddresses ? contact.emailAddresses[0].value : '')}\n      events={(contact.events ? contact.events : '')}\n      index={index}\n      phone={(contact.phoneNumbers ? contact.phoneNumbers[0].value : '')}\n      photo={(contact.photos ? (contact.photos[0].url+'?access_token='+props.accessToken) : '')}\n      userDefined={(contact.userDefined ? contact.userDefined : [])}\n      key={contact.resourceName}/>)\n    }\n  };\n\n  return (<div className=\"inContactList\">\n\n    {asyncContacts()}\n\n    <style>\n      {\n        ` .inContactList {\n          // background: rgba(179,179,179,.03);\n          // background: linear-gradient(90deg, rgba(179,179,179,0.03) 0%, rgba(179,179,179,0.10) 1%, rgba(179,179,179,0.10) 99%, rgba(179,179,179,0.03) 100%);\n        }\n        .inContactList h1 {\n          margin: 0;\n        }\n\n        .animationContacts {\n          animation: animationContactsEffect 4s infinite;\n        }\n        .animationPrioritized {\n          animation: animationPrioritizedEffect 4s infinite;\n        }\n        .animationDots {\n          animation: animationDotsEffect .5s infinite;\n        }\n\n        @keyframes animationContactsEffect {\n          0%   { transform: translate(-15vw, 0vh);}\n          25%  { transform: translate(17vw, 0vh);}\n          50%  { transform: translate(17vw, 7.5vh);}\n          75%  { transform: translate(-15vw, 7.5vh);}\n          100% { transform: translate(-15vw, 0vh);}\n        }\n        @keyframes animationPrioritizedEffect {\n          0%   { transform: translate(19vw, 0vh);}\n          25%  { transform: translate(-19vw, 0vh);}\n          50%  { transform: translate(-19vw, -6.5vh);}\n          75%  { transform: translate(19vw, -6.5vh);}\n          100% { transform: translate(19vw, 0vh);}\n        }\n        @keyframes animationDotsEffect {\n          0%  { transform: rotate(0turn);}\n          100%  { transform: rotate(1turn);}\n        }\n\n\n\n        `\n      }</style>\n  </div>);\n}\n\nexport default ContactList;\n","import React from 'react';\n// import { Link } from 'react-router-dom';\n\nfunction Settings(props){\n\n  return (\n    <div className=\"inSettings\">\n      <h1>Settings!</h1>\n      <h1>Settings!</h1>\n      <h1>Settings!</h1>\n      <h1>Settings!</h1>\n      <h1>Settings!</h1>\n      <h1>Settings!</h1>\n      <h1>Settings!</h1>\n      <h1>Settings!</h1>\n      <h1>Settings!</h1>\n      <h1>Settings!</h1>\n      <h1>Settings!</h1>\n      <h1>Settings!</h1>\n      <h1>Settings!</h1>\n      <h1>Settings!</h1>\n      <h1>Settings!</h1>\n      <h1>Settings!</h1>\n      <h1>Settings!</h1>\n      <h1>Settings!</h1>\n      <h1>Settings!</h1>\n      <h1>Settings!</h1>\n      <h1>Settings!</h1>\n      <h1>Settings!</h1>\n      <h1>Settings!</h1>\n      <h1>Settings!</h1>\n      <h1>Settings!</h1>\n      <h1>Settings!</h1>\n      <style>{`\n          .inSettings {\n            margin: 0;\n            background-color: rgba(179, 179, 179, .66);\n          }\n\n          .inSettings h1 {\n            margin: 0px;\n          }\n          `}</style>\n      </div>\n    );\n  }\n\n  export default Settings;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction Footer(){\n\n  return (\n    <div className=\"inFooter\">\n      <p className=\"\"><Link to=\"/\">All Contacts</Link> | <Link to=\"/Settings\">Settings</Link></p>\n      <style>{`\n          .inFooter {\n            padding-top: 10px;\n            height: 100%;\n            overflow: hidden;\n            border-top-left-radius: 10px;\n            border-top-right-radius: 10px;\n            border-top: 4px ridge grey;\n            background: rgb(179,179,179);\n            background: linear-gradient(0deg, rgba(179,179,179,0.99) 0%, rgba(179,179,179,0.99) 99%, rgba(179,179,179,0.33) 100%);\n          }\n\n          .inFooter p {\n            margin: 0px;\n          }\n          `}</style>\n      </div>\n    );\n  }\n\n  export default Footer;\n","/* global gapi */\n\nimport React, { Component } from \"react\";\nimport { connect } from 'react-redux';\nimport { loadContacts, setToken } from \"./../actions\";\n\nconst CLIENT_ID = process.env.REACT_APP_CLIENT_ID;\n\nconst API_KEY = process.env.REACT_APP_API_KEY;\n\nconst DISCOVERY_DOCS = \"https://people.googleapis.com/$discovery/rest?version=v1\";\n\nconst SCOPE = \"https://www.googleapis.com/auth/contacts\";\n\n\nclass OAuth extends Component {\n  constructor(props) {\n    super(props);\n    console.log('LOG FROM OAuth: super(props)', props)\n\n    this.state = {\n      isSignedIn: false,\n      googleUser: \"\",\n      err: null,\n      access_token: null,\n    };\n  }\n\n\n  componentDidMount() {\n    const successCallback = this.onSuccess.bind(this);\n    window.gapi.load(\"auth2\", () => {\n      this.auth2 = gapi.auth2.init({\n        apiKey: `${API_KEY}`,\n        discoveryDocs: `${DISCOVERY_DOCS}`,\n        client_id: `${CLIENT_ID}`,\n        scope: `${SCOPE}`,\n        ux_mode: 'redirect',\n        redirect_uri: 'https://prioritacts.netlify.com/#'\n      });\n\n      // this.auth2.attachClickHandler(document.querySelector('#loginButton'), {}, this.onLoginSuccessful.bind(this))\n\n      this.auth2.then(() => {\n        console.log(\"TRIGGER on init\");\n        this.setState({\n          isSignedIn: this.auth2.isSignedIn.get()\n        });\n      });\n    });\n\n    window.gapi.load(\"signin2\", function() {\n      // Method 3: render a sign in button\n      // using this method will show Signed In if the user is already signed in\n      var opts = {\n        width: 200,\n        height: 50,\n        client_id: `${CLIENT_ID}`,\n        onsuccess: successCallback\n      };\n      gapi.signin2.render(\"loginButton\", opts);\n    });\n  }\n\n  onSuccess(props) {\n    console.log(`TRIGGER on success.    ðŸŽ©${this.auth2.currentUser.get().Qt.Ad}ðŸ‘     now signed in.`);\n    this.setState({\n      isSignedIn: true,\n      err: null,\n      googleUser: this.auth2.currentUser.get().Qt.Ad,\n      access_token: this.auth2.currentUser.get().uc.access_token,\n    });\n\n    const request = async () => {\n      const response = await fetch(\n        `https://people.googleapis.com/v1/people/me/connections?access_token=${this.state.access_token}&personFields=birthdays,emailAddresses,events,metadata,names,phoneNumbers,photos,userDefined&pageSize=200`\n      );\n      const { dispatch } = this.props;\n\n      const json = await response.json();\n      const items = json.connections;\n      dispatch(loadContacts(items));\n\n      const access_token = this.auth2.currentUser.get().uc.access_token\n      dispatch(setToken(access_token));\n    };\n    request();\n  }\n\n  onLoginFailed(err) {\n    this.setState({\n      isSignedIn: false,\n      error: err\n    });\n  }\n\n  getContent() {\n    if (this.state.isSignedIn) {\n      document.querySelector(\".OAuthInline\").style.display = \"none\";\n      return <p>Hello {this.state.googleUser}, you are now signed in!</p>;\n    } else {\n      return (\n        <div>\n        <p>You are not signed in. Click here to sign in.</p>\n        <button id=\"loginButton\">Login with Google</button>\n        </div>\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"OAuthInline\">\n      {this.getContent()}\n      <style>{`\n        .OAuthInline {\n          position: fixed;\n          bottom: 0px;\n          z-index: 99;\n          width: 100%;\n          background-color: red;\n        }\n\n\n        `}</style>\n        </div>\n      );\n    }\n  }\n\n  OAuth = connect()(OAuth);\n\n  export default OAuth;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport \"./../App.css\";\n\nimport { Switch, Route } from \"react-router-dom\";\nimport ContactList from \"./ContactList\";\nimport Settings from \"./Settings\";\nimport Footer from \"./Footer\";\nimport OAuth from \"./OAuth\";\n\n\nclass App extends React.Component {\n\n  simpleAction = (event) => {\n   this.props.loadContacts();\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <div className=\"OAuth\">\n          <OAuth />\n        </div>\n\n        <div className=\"appBody\">\n\n          <Switch>\n            <Route exact path=\"/\" render={() => (<ContactList contactList={this.props.contactsReducer.contacts}\n            accessToken={this.props.tokenReducer.token}\n                  />)} />\n          </Switch>\n          <Switch>\n            <Route path=\"/Settings\" render={() => <Settings />} />\n          </Switch>\n        </div>\n\n        <div className=\"appFooter\">\n          <Footer />\n        </div>\n\n\n        <style>{`\n            .OAuth {\n              position: fixed;\n              bottom: 0px;\n              z-index: 99;\n              width: 100%;\n              background-color: red;\n            }\n\n            .appBody {\n              position: fixed;\n              overflow: auto;\n              top: 0px;\n              height: 93%;\n              width: 100%;\n            }\n\n            .appFooter {\n              position: fixed;\n              overflow: hidden;\n              bottom: 0px;\n              width: 100%;\n              height: 50px;\n            }\n\n            `}</style>\n        </div>\n      );\n    }\n  }\n\n  const mapStateToProps = state => ({\n   ...state\n });\n\nexport default connect(mapStateToProps)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import * as types from './ActionTypes';\nimport { initialState } from './InitialState';\n\nexport default {\n  initialState: initialState,\n  types: types\n};\n","export const initialState = {\n  contacts: [{greeting: 'Hello, hi there!'}],\n  token: '',\n};\n","import constants from './../constants';\nconst { initialState, types } = constants;\n\nexport default (state = initialState.contacts, action) => {\n  switch (action.type) {\n    case types.LOAD_CONTACTS:\n    let toSort = action.payload.slice();\n    function compare(a, b) {\n      const contactA = (a.userDefined && a.userDefined.find(x => x.key === '~prioritacts~frequency~') !== undefined) ? a.userDefined.find(x => x.key === '~prioritacts~frequency~').value : a.names[0].displayName.toUpperCase();\n      const contactB = (b.userDefined && b.userDefined.find(x => x.key === '~prioritacts~frequency~') !== undefined) ? b.userDefined.find(x => x.key === '~prioritacts~frequency~').value : b.names[0].displayName.toUpperCase();\n      let comparison = 0;\n      if (contactA > contactB) {\n        comparison = 1;\n      } else if (contactA < contactB) {\n        comparison = -1;\n      }\n      return comparison;\n    }\n    let sortedPayload = toSort.sort(compare);\n    return {\n      contacts: sortedPayload\n    }\n    case types.LOG_EVENT:\n    let logUpdatedState = state.contacts.map(contactToLogUpdate => {\n      if (contactToLogUpdate.resourceName === action.payload.resourceName) {\n        return action.payload;\n      } else {\n        return contactToLogUpdate;\n      }\n    });\n    return {\n      contacts: logUpdatedState\n    }\n    default:\n    return state\n  }\n}\n","import constants from './../constants';\nconst { initialState, types } = constants;\n\nexport default (state = initialState.token, action) => {\n switch (action.type) {\n  case types.SET_TOKEN:\n   return {\n    token: action.payload\n   }\n  default:\n   return state\n }\n}\n","import { combineReducers } from 'redux';\nimport contactsReducer from './contactsReducer';\nimport tokenReducer from './tokenReducer';\n\nexport default combineReducers({\n contactsReducer,\n tokenReducer\n});\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nimport { HashRouter } from 'react-router-dom';\nimport thunkMiddleware from \"redux-thunk\";\nimport { createStore, applyMiddleware } from \"redux\";\nimport { Provider } from 'react-redux';\nimport rootReducer from \"./reducers/index\";\n\nconst store = createStore(rootReducer, applyMiddleware(thunkMiddleware));\nlet unsubscribe = store.subscribe(() => console.log(store.getState()));\n\nReactDOM.render(\n   <Provider store={store}>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </Provider>,\n  document.getElementById('root'));\n\n\n\n  // If you want your app to work offline and load faster, you can change\n  // unregister() to register() below. Note this comes with some pitfalls.\n  // Learn more about service workers: https://bit.ly/CRA-PWA\n  serviceWorker.unregister();\n"],"sourceRoot":""}